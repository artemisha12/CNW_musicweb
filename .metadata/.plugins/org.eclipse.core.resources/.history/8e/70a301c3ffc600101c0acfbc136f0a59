package model.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.util.ArrayList;
import config.DBConnect;
import model.bean.Song;

public class SongDAO {
 public ArrayList<Song> getAll(){
	 ArrayList<Song> list = new ArrayList<>();
	 
	 String sql = "Select * from songs";
	 
	 try( Connection con = DBConnect.getConnection();
			 PreparedStatement ps = con.prepareStatement(sql);
			 ResultSet rs = ps.executeQuery();
			 ){
		 while (rs.next()) {
			 Song s = new Song();
			 s.setSongId(rs.getInt("song_id"));
			 s.setTitle(rs.getString("title"));
			 s.setDescription(rs.getString("description"));
			 s.setYear(rs.getInt("year"));
             s.setThumbnail(rs.getString("thumbnail"));
             s.setLink(rs.getString("link"));

             list.add(s);
		 }
	 } catch (Exception e) {
		 e.printStackTrace();
	 }
	 return list;
 }
}
