package model.dao;

import java.sql.*;
import java.util.ArrayList;
import model.bean.Album;
import config.DBConnect;

public class AlbumDAO {

    public ArrayList<Album> getAll() {
        ArrayList<Album> list = new ArrayList<>();
        String sql = "SELECT * FROM albums";

        try (Connection con = DBConnect.getConnection();
             Statement st = con.createStatement();
             ResultSet rs = st.executeQuery(sql)) {

            while (rs.next()) {
                Album a = new Album();
                a.setAlbumId(rs.getInt("album_id"));
                a.setTitle(rs.getString("title"));
                a.setReleaseYear(rs.getInt("release_year"));
                a.setCover(rs.getString("cover"));
                a.setDescription(rs.getString("description"));
                list.add(a);
            }

        } catch (Exception e) { e.printStackTrace(); }
        return list;
    }
}
